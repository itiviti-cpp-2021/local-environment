# Local Environment
A replica of Github CI environment for testing hw projects on a local machine

## Использование
Так как это окружение основано в частности на использовании Docker-контейнера, для начала необходимо установить его себе на компьютер.
Скачиваем Docker для своей ОС здесь - [Get Docker](https://docs.docker.com/get-docker/), тут же слева есть небольшой туториал, чтобы было, с чего начать.
После установки Docker особо никаких дальнейших взаимодействий с ним вручную производить не нужно (кроме как запустить его),
всё управление делается с помощью двух файлов в этом репозитории - **build.py** и **run.py**.

### 1. Запускаем build.py:
```bash
python3 build.py # Или же python build.py, или же ./build.py
```
Этот скрипт соберёт контейнер **cpp-env**, окружение которого совпадает тем, что у Github CI. В нём же и будет проходить компиляция и тесты.

### 2. Натравляем run.py на наш выполненный проект (репозиторий):
```bash
python3 run.py /локальный/путь/к/репозиторию # естественно это заменяем на локальный путь до того репозитория, где выполнили проект
```
Конкретнее, например:
```bash
python3 run.py ~/itmo/cpp/monte-carlo
```
Это запустит Docker контейнер cpp-env, который скомпилирует код в вашем репозитории и запустит тесты. Если вы хотите просто проверить, компилируется ли код,
то укажите флаг `-b`:
```bash
python3 run.py -b ~/itmo/cpp/monte-carlo
```
## Зачем
У организаций на github (например, itiviti-cpp-2021) есть ограниченное кол-во минут, которые израсходуются каждый раз,
когда вы загружаете свой код в данный репозиторий и запускается долгий процесс компиляции и тестирования. Для этого **обязательно** всегда тестируйте сначала локально,
с помощью этого окружения.

Только после успешного прохождения **всех тестов** стоит push'ить свой локальный репозиторий в github.
